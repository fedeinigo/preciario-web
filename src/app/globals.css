@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================
   BASE THEME — morado marca
   ================================ */
@layer base {
  :root {
    --bg: 246 246 247;        /* #F6F6F7 */
    --paper: 255 255 255;     /* #FFFFFF */
    --ink: 17 24 39;          /* slate-900 */
    --muted: 107 114 128;     /* slate-500 */
    --border: 226 232 240;    /* slate-200 */

    /* >>> Paleta principal morada (alineada al hero) */
    --primary: 59 10 105;           /* #3B0A69 */
    --primary-ink: 255 255 255;     /* texto sobre morado */
    --primary-soft: 237 233 254;    /* #EDE9FE (violet-100) */

    --shadow: 0 1px 2px rgba(15, 23, 42, 0.06), 0 8px 20px rgba(15, 23, 42, 0.04);
    --radius: 6px;

    /* tamaños */
    --fs-h1: 24px;
    --fs-h2: 20px;
    --fs-h3: 16px;
    --fs-body: 14px;
    --fs-xs: 12px;

    --lh-tight: 1.2;
    --lh-body: 1.5;

    /* alturas fijas para layout */
    --nav-h: 48px;
    --footer-h: 40px;

    /* gradiente marca (navbar / footer / headings / tablas) */
    --brand-start-hex: #3b0a69;
    --brand-end-hex: #2a0f5c;
  }

  html,
  body {
    background-color: rgb(var(--bg));
    color: rgb(var(--ink));
    font-size: var(--fs-body);
    line-height: var(--lh-body);
    overflow-x: hidden;
  }

  h1 { font-size: var(--fs-h1); line-height: var(--lh-tight); font-weight: 700; }
  h2 { font-size: var(--fs-h2); line-height: var(--lh-tight); font-weight: 700; }
  h3 { font-size: var(--fs-h3); line-height: var(--lh-tight); font-weight: 600; }

  ::-webkit-scrollbar { width: 10px; height: 10px; }
  ::-webkit-scrollbar-thumb { background: rgb(var(--border)); border-radius: 8px; }
  ::-webkit-scrollbar-track { background: transparent; }
}

/* ================================
   COMPONENTS
   ================================ */
@layer components {
  .card {
    @apply rounded-[var(--radius)] shadow-[var(--shadow)] px-4 py-3 border;
    background-color: rgb(var(--paper));
    border-color: rgb(var(--border));
  }

  .shadow-soft { box-shadow: var(--shadow); }

  .input, .select, .textarea {
    @apply w-full rounded-[var(--radius)] px-3 py-2 text-[13.5px] outline-none;
    background-color: #fff;
    border: 1px solid rgb(var(--border));
    color: rgb(var(--ink));
  }
  .input::placeholder, .textarea::placeholder {
    color: rgb(var(--muted));
  }
  .input:focus, .select:focus, .textarea:focus {
    border-color: rgb(var(--primary));
    box-shadow: 0 0 0 3px rgba(var(--primary), 0.12);
  }

  /* ----- Botones ----- */
  .btn {
    @apply inline-flex items-center justify-center gap-2
           rounded-[var(--radius)] px-3 py-2 text-[13.5px] font-medium select-none
           border transition;
    border-color: rgb(var(--border));
    transition: background-color .15s ease, color .15s ease, border-color .15s ease, box-shadow .15s ease;
  }
  .btn-primary {
    @apply btn;
    background-color: rgb(var(--primary));
    color: rgb(var(--primary-ink));
    border-color: transparent;
  }
  .btn-primary:hover { filter: brightness(0.95); }

  .btn-ghost {
    @apply btn;
    background-color: #fff;
    color: rgb(var(--ink));
    border-color: rgb(var(--border));
  }
  .btn-ghost:hover { border-color: rgb(var(--ink)); }

  /* ----- Tabs ----- */
  .tab {
    @apply inline-flex items-center gap-2 px-3 py-2 rounded-[var(--radius)] border text-[13.5px];
  }
  .tab-active {
    background-color: rgb(var(--primary));
    color: rgb(var(--primary-ink));
    border-color: transparent;
  }
  .tab-inactive {
    background-color: #fff;
    color: rgb(var(--ink));
    border-color: rgb(var(--border));
  }

  /* ----- Encabezados de sección ----- */
  .heading-bar {
    @apply text-white font-semibold text-lg px-4 py-2 rounded-[var(--radius)]
           shadow-[var(--shadow)] flex items-center justify-between;
    background: linear-gradient(90deg, var(--brand-start-hex), var(--brand-end-hex));
  }
  .heading-bar-sm {
    @apply text-white font-medium text-base px-3 py-1.5 rounded-[var(--radius)]
           shadow-[var(--shadow)] flex items-center justify-between;
    background: linear-gradient(90deg, var(--brand-start-hex), var(--brand-end-hex));
  }

  /* ----- Tablas ----- */
  .table-th {
    @apply text-left text-[12px] uppercase tracking-wide text-white border-b px-3 py-2;
    border-color: rgba(255,255,255,0.1);
    background: linear-gradient(90deg, var(--brand-start-hex), var(--brand-end-hex));
  }
  .table-td {
    @apply px-3 py-2 border-b align-middle;
    border-color: rgb(var(--border));
  }

  /* ----- Navbar / Footer ----- */
  .navbar {
    @apply w-full text-[rgb(var(--primary-ink))];
    background: linear-gradient(90deg, var(--brand-start-hex), var(--brand-end-hex));
  }
  .navbar-inner { @apply w-full h-full flex items-center justify-between; }

  .footer {
    @apply w-full text-[rgb(var(--primary-ink))];
    background: linear-gradient(90deg, var(--brand-start-hex), var(--brand-end-hex));
  }
  .footer-inner {
    @apply w-full px-3 py-3 text-[13px] flex flex-col sm:flex-row items-center justify-between gap-2;
  }

  .modal-panel {
    @apply rounded-[var(--radius)] p-4 w-full max-w-lg border;
    background-color: #fff;
    border-color: rgb(var(--border));
    box-shadow: var(--shadow);
  }
}

/* ================================
   UTILIDADES
   ================================ */
@layer utilities {
  .text-muted { color: rgb(var(--muted)); }
  .chip {
    @apply inline-flex items-center rounded-[var(--radius)] text-[12px] px-2 py-1;
    background-color: rgb(var(--primary-soft));
  }
}

.btn-warning-icon { @apply inline-flex items-center justify-center w-8 h-8 rounded-full text-white transition shadow-sm; background-color: #f59e0b; }
.btn-warning-icon:hover { background-color: #d97706; }
.btn-danger-icon  { @apply inline-flex items-center justify-center w-8 h-8 rounded-full text-white transition shadow-sm; background-color: #dc2626; }
.btn-danger-icon:hover { background-color: #b91c1c; }

/* --- HERO / LOGIN --- */
.hero-bg {
  position: relative;
  overflow-x: clip;
  isolation: isolate;
}
.hero-bg::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -3;
  background:
    radial-gradient(1400px 800px at -10% -10%, rgba(167, 139, 250, 0.20), transparent 60%),
    radial-gradient(1200px 700px at 110% 120%, rgba(99, 102, 241, 0.16), transparent 60%),
    radial-gradient(2000px 1200px at 50% -15%, rgba(139, 92, 246, 0.10), transparent 65%),
    /* >>> mismo espectro que la cabecera */
    linear-gradient(180deg, #3b0a69 0%, #2a0f5c 38%, #1c1347 72%, #0f0a2b 100%);
}
.hero-bg::after {
  content: "";
  position: fixed;
  inset: -15%;
  z-index: -2;
  pointer-events: none;
  mix-blend-mode: overlay;
  opacity: 0.25;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/></filter><rect width='100%%' height='100%%' filter='url(%23n)' opacity='0.12'/></svg>");
  background-size: 280px 280px;
}
.hero-bg > .vignette,
.hero-bg .vignette {
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background:
    radial-gradient(1200px 600px at 50% 20%, rgba(0,0,0,0.06), transparent 60%),
    radial-gradient(1200px 900px at 50% 80%, rgba(0,0,0,0.06), transparent 65%);
}

/* Tarjeta de login (tamaños cómodos) */
.auth-card { max-width: 720px; }
